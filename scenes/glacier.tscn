[gd_scene load_steps=13 format=3 uid="uid://danhu2j53kaqi"]

[ext_resource type="Texture2D" uid="uid://bmhys6rsfk5c2" path="res://textures/bg_spawn.png" id="1_ehbw6"]
[ext_resource type="PackedScene" uid="uid://co7ejxoerse8a" path="res://scenes/player.tscn" id="1_v6ssl"]
[ext_resource type="Script" uid="uid://olgpl2cbkqvf" path="res://scripts/player_gui_cont.gd" id="1_vxxf6"]
[ext_resource type="PackedScene" uid="uid://durm68msfwsef" path="res://scenes/spawn_handler.tscn" id="2_epv74"]
[ext_resource type="Texture2D" uid="uid://btcu2u08kq8jv" path="res://textures/bg_rightdown.png" id="2_tb5gt"]
[ext_resource type="FontFile" uid="uid://bjseyfxbyhb2w" path="res://textures/Gunbangs.otf" id="2_yesco"]
[ext_resource type="Texture2D" uid="uid://d3n7xqn2alp8q" path="res://textures/bg_cave.png" id="3_cm00a"]
[ext_resource type="Texture2D" uid="uid://b2a8mno6lek6r" path="res://textures/bg_leftdown.png" id="4_8u53l"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ehbw6"]
size = Vector2(12606, 310)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_tb5gt"]
size = Vector2(7684, 310)

[sub_resource type="LabelSettings" id="LabelSettings_ckyp4"]
font = ExtResource("2_yesco")
font_size = 42
font_color = Color(0, 0, 0, 1)
shadow_size = 4
shadow_color = Color(0, 0, 0, 0.19215687)
shadow_offset = Vector2(2.135, 1.54)

[sub_resource type="Theme" id="Theme_vxxf6"]
default_font = ExtResource("2_yesco")
default_font_size = 53

[node name="Root" type="Node"]

[node name="World" type="Node2D" parent="."]

[node name="Bg" type="Node2D" parent="World"]

[node name="SpawnQuad" type="Sprite2D" parent="World/Bg"]
z_index = -2
position = Vector2(3000, -1750)
texture = ExtResource("1_ehbw6")

[node name="SpawnQuad2" type="Sprite2D" parent="World/Bg"]
z_index = -2
position = Vector2(3000.0098, 1750)
texture = ExtResource("2_tb5gt")

[node name="SpawnQuad3" type="Sprite2D" parent="World/Bg"]
z_index = -2
position = Vector2(-3000, -1750)
texture = ExtResource("3_cm00a")

[node name="SpawnQuad4" type="Sprite2D" parent="World/Bg"]
z_index = -2
position = Vector2(-3000, 1750)
texture = ExtResource("4_8u53l")

[node name="Limits" type="StaticBody2D" parent="World/Bg"]
collision_layer = 3
collision_mask = 0

[node name="Top" type="CollisionShape2D" parent="World/Bg/Limits"]
position = Vector2(0, -3655)
shape = SubResource("RectangleShape2D_ehbw6")

[node name="Bottom" type="CollisionShape2D" parent="World/Bg/Limits"]
position = Vector2(0, 3656)
shape = SubResource("RectangleShape2D_ehbw6")

[node name="Right" type="CollisionShape2D" parent="World/Bg/Limits"]
position = Vector2(6156, 0)
rotation = 1.5707964
shape = SubResource("RectangleShape2D_tb5gt")

[node name="Rivertop" type="CollisionPolygon2D" parent="World/Bg/Limits"]
position = Vector2(-671, -1982)
polygon = PackedVector2Array(1147, -1512, 1173, -1485, 1041, -1453, 1086, -1437, 1031, -1404, 907, -1386, 898, -1362, 927, -1339, 596, -1205, 211, -1137, 122, -1069, -70, -1041, 181, -1002, 360, -970, 269, -933, 241, -902, 54, -851, 384, -671, 398, -592, 500, -559, 438, -349, 394, -334, 407, -298, 481, -276, 504, -197, 792, -112, 558, 32, 647, 189, 1196, 272, 955, 491, 1532, 537, 1070, 758, 1313, 845, 1232, 988, 781, 1176, 1050, 1229, 709, 1397, 581, 1549, 592, 1652, 804, 1774, 795, 1852, 1407, 1912, 1340, 1981, 1143, 2073, 1945, 2246, 2016, 2214, 2053, 2275, 1803, 2412, 1818, 2491, 1857, 2533, 1843, 2605, 1779, 2633, 1571, 2832, 1694, 2820, 1716, 2848, 1876, 2865, 1864, 2909, 1764, 2980, 1708, 3116, 1662, 3140, 1809, 3254, 1859, 3363, 1760, 3581, 1712, 3595, 1643, 3619, 1545, 3584, 1200, 3613, 873, 3580, 595, 3611, 288, 3694, 223, 3734, -104, 3837, -204, 3819, -248, 3762, -290, 3772, -420, 3719, -371, 3674, -434, 3647, -128, 3506, -122, 3452, -379, 3354, -390, 3296, -249, 3202, -320, 3059, -272, 2984, -61, 2832, 58, 2784, 10, 2680, -13, 2620, -154, 2584, -374, 2487, -207, 2370, -228, 2277, -674, 2212, -730, 2193, -796, 2130, -872, 2114, -879, 2076, -665, 1986, -616, 1918, -644, 1873, -794, 1816, -764, 1754, -612, 1728, -552, 1669, -384, 1612, -440, 1553, -446, 1508, -125, 1315, -110, 1281, 35, 1141, -79, 992, -133, 895, -111, 842, -182, 841, -420, 706, -576, 648, -443, 554, -537, 421, -604, 341, -564, 262, -656, 235, -743, 219, -890, 108, -1045, 25, -1125, -146, -1369, -273, -1429, -307, -1400, -360, -1476, -385, -1274, -546, -1279, -597, -1429, -684, -1506, -790, -1606, -836, -1583, -916, -1493, -982, -1484, -1049, -1386, -1141, -1306, -1228, -1320, -1270, -1244, -1308, -1200, -1407, -1065, -1435, -996, -1477, -871, -1500, -847, -1518)

[node name="Riverbottom" type="CollisionPolygon2D" parent="World/Bg/Limits"]
position = Vector2(646, 3106)
polygon = PackedVector2Array(1674, -305, 1432, -112, 1609, -27, 1846, 70, 1922, 115, 1826, 191, 1907, 373, -1545, 378, -1565, 251, -1636, 160, -1429, 59, -1378, -87, -1353, -208, -1257, -320, -1248, -355, -970, -460, -772, -538, -494, -581, -287, -589, -90, -604, -52, -577, 140, -580, 192, -565, 273, -577, 659, -501, 717, -476, 837, -485, 1014, -440, 1030, -409, 1254, -386, 1343, -383, 1397, -357, 1434, -359, 1452, -343, 1506, -350, 1536, -334, 1568, -331, 1599, -312)

[node name="Plane" type="CollisionPolygon2D" parent="World/Bg/Limits"]
position = Vector2(4370, -2498)
polygon = PackedVector2Array(-1438, 181, -1438, 243, -1290, 329, -1189, 351, -1117, 376, -1054, 376, -979, 473, -360, 417, -158, 357, -81, 398, 315, 312, 757, 179, 1365, 540, 1612, 602, 1638, 602, 1634, -1010, -739, -1003, -1169, -181, -1438, 155)

[node name="Debris1" type="CollisionPolygon2D" parent="World/Bg/Limits"]
position = Vector2(1827, -2237)
polygon = PackedVector2Array(-148, -47, -90, -190, 96, -188, 282, 15, 171, 1, 79, 51, 63, 70, -19, 84, -102, 88, -166, 150, -240, 166, -198, 92, -258, -2)

[node name="Debris2" type="CollisionPolygon2D" parent="World/Bg/Limits"]
position = Vector2(5738, -1405)
polygon = PackedVector2Array(-199, 18, -160, -39, -82, -41, 42, -223, 41, -145, 76, -69, 136, -39, 156, 55, 141, 122, 186, 150, 165, 227, 90, 170, 46, 71)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="World/Bg/Limits"]
position = Vector2(-5969, 0)
polygon = PackedVector2Array(2465, -3493, 2444, -3368, 2476, -3288, 2107, -3257, 2055, -3179, 1804, -3298, 1446, -3324, 1417, -3218, 1480, -3106, 1378, -3044, 1218, -3104, 1010, -3036, 1021, -2888, 1171, -2632, 1111, -2445, 637, -2543, 328, -2568, 307, -2305, 462, -2025, 537, -1902, 703, -1728, 683, -1603, 751, -1523, 597, -1392, 646, -1303, 574, -1289, 814, -883, 797, -789, 894, -686, 892, -589, 739, -516, 826, -346, 306, -278, 497, 14, 618, 97, 310, 158, 687, 551, 660, 620, 702, 696, 538, 749, 561, 878, 736, 958, 433, 1041, 817, 1363, 878, 1557, 728, 1568, 839, 1741, 575, 1929, 354, 1929, 587, 2223, 666, 2406, 458, 2486, 801, 2773, 1063, 2923, 942, 2998, 1510, 3245, 1946, 3487, -29, 3490, -24, -3496)

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="World/Bg/Limits"]
position = Vector2(5800, 2241)
polygon = PackedVector2Array(194, -1872, -165, -1664, -134, -1537, -341, -1431, -509, -1174, -318, -1141, -464, -990, -233, -949, -503, -621, -489, -518, -181, -569, -112, -421, -2, -305, -147, -57, 82, -129, -23, 21, -137, 223, -154, 375, -228, 432, -247, 670, -640, 902, -806, 1066, -621, 1125, -103, 1015, -119, 1113, -315, 1250, 201, 1255)

[node name="Player" parent="World" instance=ExtResource("1_v6ssl")]
position = Vector2(4680, -2036)
HEALTH = 4

[node name="Camera2D" type="Camera2D" parent="World/Player"]
zoom = Vector2(0.645, 0.645)
limit_left = -5880
limit_top = -3425
limit_right = 5940
limit_bottom = 3430
limit_smoothed = true
position_smoothing_enabled = true
editor_draw_limits = true

[node name="SpawnHandler" parent="World/Player" instance=ExtResource("2_epv74")]
visible = false
monitorable = false
SAFE_ZONE = 1374.0
INVERSE_SPAWN_RATE = 0.8

[node name="TimerSpawn" parent="World/Player/SpawnHandler" index="0"]
one_shot = false

[node name="GUI" type="CanvasLayer" parent="."]
layer = 2

[node name="GUI" type="Control" parent="GUI"]
z_index = 100
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_vxxf6")

[node name="HealthBar" type="ColorRect" parent="GUI/GUI"]
layout_mode = 1
offset_right = 275.0
offset_bottom = 54.0
color = Color(0.7372549, 0.76862746, 0.8039216, 1)

[node name="Cuerpo" type="Label" parent="GUI/GUI/HealthBar"]
layout_mode = 1
anchors_preset = 9
anchor_bottom = 1.0
offset_right = 249.0
grow_vertical = 2
text = "Vida restante: "
label_settings = SubResource("LabelSettings_ckyp4")
horizontal_alignment = 1
vertical_alignment = 1

[node name="Numero" type="Label" parent="GUI/GUI/HealthBar"]
layout_mode = 1
anchors_preset = 11
anchor_left = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -50.0
grow_horizontal = 0
grow_vertical = 2
text = "3"
label_settings = SubResource("LabelSettings_ckyp4")
horizontal_alignment = 1
vertical_alignment = 1

[node name="Retry" type="Button" parent="GUI/GUI"]
visible = false
layout_mode = 1
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 523.0
offset_top = -186.0
offset_right = -523.0
offset_bottom = -81.0
grow_horizontal = 2
grow_vertical = 0
theme = SubResource("Theme_vxxf6")
text = "Volver a intentar"

[connection signal="pressed" from="GUI/GUI/Retry" to="GUI/GUI" method="_on_retry_pressed"]

[editable path="World/Player/SpawnHandler"]
